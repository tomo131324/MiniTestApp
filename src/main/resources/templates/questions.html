<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="css/index.css">
</head>
<body>
	<form action="/scoring" method="post">
		<div th:each="question, questionStat : ${questions}">
			<span>問題</span>
			<span th:text="${questionStat.index + 1}"></span><br/>
    		<span th:text="${question.question}"></span><br/>
    		
    		<div th:if="${form} == '記述問題'">
				<input type="text" th:name="'answers[' + ${questionStat.index} + ']'">
			</div>
			
    		<div th:if="${form} == '4択問題'">
    			<div th:each="choice : ${question.choices}">
        			<input type="radio" th:name="'answers[' + ${questionStat.index} + ']'" th:value="${choice}" required/>
        			<span th:text="${choice}"></span><br/>
    			</div>
    		</div>
    		
			<div th:if="${form} == '穴埋め問題'">
				<div th:each="answer, answerStat : ${question.answers}">
					<span th:text="${answerStat.index + 1}"></span>
            		<input type="text" th:name="'answers[' + ${questionStat.index} + '][' + ${answerStat.index} + ']'">
        		</div>
			</div>
		</div>
		<input type="hidden" th:name="testId" th:value="${questions[0].testId}">
		<input type="hidden" th:name="form" th:value="${form}">
		<input type="submit" value="送信">
	</form>
</body>
</html>
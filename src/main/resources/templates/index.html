<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>トップページ</title>

	<!-- Cropper.js CSS -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
	<link rel="stylesheet" href="css/index.css">
</head>

<body class="color-mode">
	<div class="container">
		<header>
			<div class="logo" id="logo">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
					stroke-linecap="round" stroke-linejoin="round">
					<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
					<line x1="9" y1="3" x2="9" y2="21"></line>
				</svg>
				<span class="header-title">作っと小テスト</span>
			</div>
			<nav>
				<ul class="auth-nav">
					<li>
						<a class="auth-button" th:href="@{/login}" sec:authorize="isAnonymous()">ログイン</a>
					</li>
					<li>
						<a class="auth-button" th:href="@{/register}" sec:authorize="isAnonymous()">サインアップ</a>
					</li>
					<form th:action="@{/logout}" method="post" sec:authorize="isAuthenticated()">
						<input type="submit" value="ログアウト" class="auth-button logout-button">
					</form>
				</ul>
			</nav>
		</header>

		<!-- サイドバーの追加 -->
		<div id="sidebar">
			<ul>
				<li>履歴</li>
				<li><a href="#">ホーム</a></li>
				<li><a href="#">プロフィール</a></li>
				<li><a href="#">設定</a></li>
			</ul>
		</div>

		<main>
			<h1>まずは、画像から文章を取り出してみましょう！</h1>
			<p class="description">アップロードした画像から文章を取り出して、問題を作成します。</p>
			<form id="upload-form" class="upload-form" onsubmit="return uploadImage(event);">
				<label for="image-upload" class="upload-label">画像をアップロード</label>
				<div class="upload-area" id="upload-area">
					<input type="file" id="image-upload" accept="image/*" capture="camera" hidden
						onchange="handleFileSelect(event)">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
						stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="upload-icon">
						<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
						<polyline points="17 8 12 3 7 8"></polyline>
						<line x1="12" y1="3" x2="12" y2="15"></line>
					</svg>
					<p>クリックしてアップロード</p>
				</div>

				<div id="file-info" class="file-info hidden">
					<span id="file-name"></span>
					<button type="button" id="remove-file" class="remove-file">&times;</button>
				</div>
				<button type="submit" id="upload-button" class="upload-button" disabled>テキスト抽出</button>
			</form>

		</main>
	</div>

	<script src="js/main.js"></script>
</body>

</html>